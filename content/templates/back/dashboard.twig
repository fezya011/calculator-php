{% extends "layout.twig" %}

{% block styles %}
    <link href="/assets/back/css/dashboard.css" rel="stylesheet">
{% endblock %}

{% block page_header_and_breadcrumbs %}
    <header class="admin-header">
        <div class="container">
            <h1>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1>
            <p class="admin-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p>
        </div>
    </header>
{% endblock %}

{% block content %}
    <div class="admin-container">
        <div class="admin-stats">
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <div class="stat-content">
                    <h3>{{ all_articles_count }}</h3>
                    <p>–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìÇ</div>
                <div class="stat-content">
                    <h3>{{ categories|length }}</h3>
                    <p>–ö–∞—Ç–µ–≥–æ—Ä–∏–π</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üëÅÔ∏è</div>
                <div class="stat-content">
                    <h3>1.2k</h3>
                    <p>–ü—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</p>
                </div>
            </div>
        </div>

        <div class="admin-actions">
            <h2 class="section-title">–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
            <div class="actions-grid">
                <a href="/admin/articles/new" class="action-card">
                    <div class="action-icon">‚ûï</div>
                    <h3>–ù–æ–≤–∞—è —Å—Ç–∞—Ç—å—è</h3>
                    <p>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç–∞—Ç—å—é</p>
                </a>
                <a href="/admin/categories" class="action-card">
                    <div class="action-icon">üìÇ</div>
                    <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</p>
                </a>
                <a href="/admin/pages" class="action-card">
                    <div class="action-icon">üìÑ</div>
                    <h3>–°—Ç—Ä–∞–Ω–∏—Ü—ã</h3>
                    <p>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü</p>
                </a>
                <a href="/admin/settings" class="action-card">
                    <div class="action-icon">‚öôÔ∏è</div>
                    <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <p>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</p>
                </a>
            </div>
        </div>

        <div class="recent-articles">
            <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏</h2>
            <div class="articles-list">
                {% for article in articles|slice(0, 5) %}
                    <div class="article-item">
                        <div class="article-info">
                            <h4>{{ article.title }}</h4>
                            <p>{{ article.meta.category ?? '–ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' }} ‚Ä¢ {{ article.meta.date ? article.meta.date|date('d.m.Y') : '–ù–µ—Ç –¥–∞—Ç—ã' }}</p>
                        </div>
                        <div class="article-actions">
                            <a href="/admin/articles/edit/{{ article.slug }}" class="btn btn-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                            <a href="/article/{{ article.slug }}" class="btn btn-outline btn-sm">–ü—Ä–æ—Å–º–æ—Ç—Ä</a>
                        </div>
                    </div>
                {% else %}
                    <div class="empty-state">
                        <p>–°—Ç–∞—Ç—å–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}